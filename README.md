どうも、さかなのまえあしです。
今回はトリアコンタンさんのElectronForMzプロジェクトでローカルセーブに成功したっぽい物ができたので検証用にクローンして差分をアップデートさせていただきました
改変したのはmain.jsとプラグインのElectronForMz.jsになります

あ、ちなみにAIにやってもらったので技術的なことについてはさっぱりです

使い方はトリアコンタンさんのQiitaか<br>
https://qiita.com/triacontane/items/a8610bff9778ca2aaa3e<br>
私が実際にやってみた結果<br>
https://note.com/good_acacia483/n/nadf37f39c8f4<br>
を参考にしてください<br>

色々とテストしてみましたが、問題はないと思われます<br>
（ただしWindows環境のみ）<br>
（Ubuntu環境ではElectoronをインストールしたフォルダの下層にsaveフォルダが作成されました）<br>
（Macは持ってないのでテストできません）<br>
心配な方は改変したソースコードを読んで各自判断をしてください。<br>

この改造でできるようになることは

１．ゲームの実行ファイルと同じ場所に「save」フォルダが作られる<br>
２．Web版と同じファイル構成（localStorage）を使いつつ、保存場所だけ実行ファイルと同じ場所に変更<br>
３、複数のゲームをデブロイしてもセーブファイルをすべて一つのファイルで扱うということがなくなる<br>
４．ゲーム削除時の対象となるゲームのデータ削除が容易に




現状では<br>
１．現状のコードはWindowsでは動くけど、MacやUbuntuでは権限の問題で動かない可能性が高い<br>
２．クロスプラットフォーム対応するなら、標準的なユーザーデータディレクトリを使う方が安全<br>
３．もし本当に実行ファイルの下に保存したいなら、OSごとに異なる処理を書く必要があるけど、権限の問題は残る<br>

特にMacやUbuntuでは、実行ファイルのある場所に書き込み権限がないことが多いから。とのことです<br>

LinuxやMacで１ゲームごとに１セーブフォルダを実現しようと思ったら<br>
一番確実なのは、package.jsonにゲーム名を明示的に設定しておくことだそうです。<br>

本家のトリアコンタンさんのプロジェクトを利用して実行してください。（こちらの版はWinで実行ファイルのフォルダにsaveフォルダを作成することに特化しています）<br>
package.jsonを作成したゲームごとに書き換え<br>
    "name": "electron-for-mz",<br>
この部分の名前を書き換えることで作成されるフォルダが変わるはず……<br>

フォルダを変えるのに意味はあるのかというと現状だとセーブデータはすべてelectron-for-mzフォルダに格納されて一つのDBファイル。しかも暗号化もされるから消したいゲームのデータを決め打ちして消すことができないんですよね<br>
ゲームごとにフォルダを変えれば少なくとも消したいゲームのデータだけ（丸ごとですが）消すことができるようになります<br>

もともとそこがどうにかならないか？から始めた改造版ですし<br>


この改造版について、トリアコンタンさんへの質問はしないようお願いいたします。
